{% extends "base.html" %}

{% block breadcrumb %}<a href="{% url dataset.views.index %}">Datasets</a> / <a href="{% url dataset.views.detail sample_1.dataset.pk %}">{{ sample_1.dataset }}</a> / <strong>Compare {{ sample_1.name }} and {{ sample_2.name }}</strong> {% endblock %}

{% block nav %}
		<li class="first"><a href="{% url gene.views.index %}">Genes</a></li>
		<li class="active"><a href="{% url dataset.views.index %}">Datasets</a></li>
		<li><a href="{% url list.views.index %}">Gene Lists</a></li>
		<li><a href="{% url django.contrib.auth.views.logout_then_login %}">Logout</a></li>
		{% endblock %}

{% block content %}

<h1>Explore genes by fold change</h1>

<table class='table1'>

<tr>
    <th>Gene</th>
    <th>FPKM in {{ sample_1.name }}</th>
    <th>FPKM in {{ sample_2.name }}</th>
    <th>Fold Change</th>
    <th>P-Value</th>
<tr>

{% for point in data %}

<tr>

    <td><a href="{% url gene.views.detail point.gene.pk %}">{{ point.gene }}</a></td>
    <td>{{ point.value1 }}</td>
    <td>{{ point.value2 }}</td>
    <td>{{ point.change }}</td>
    <td>{{ point.p_value }}</td>

</tr>

{% endfor %}

</table>


<div class="pagination">
    <p>
    {% if pages.paginator.has_previous %}<strong><a href="{% url  dataset.views.compare_genes sample_1.pk sample_2.pk pages.paginator.previous_page_number %}">Previous</a></strong>
    {% else %}<span><strong>Previous</strong></span>{% endif %}

    {% if pages.first_page %}<a href="{% url  dataset.views.compare_genes sample_1.pk sample_2.pk 1 %}">1</a><span>...</span>{% endif %}

    {% for page in pages.before_pages %}
    <a href="{% url  dataset.views.compare_genes sample_1.pk sample_2.pk page %}">{{ page }}</a>
    {% endfor %}

    <span>{{ pages.current_page }}</span>

    {% for page in pages.after_pages %}
    <a href="{% url  dataset.views.compare_genes sample_1.pk sample_2.pk page %}">{{ page }}</a>
    {% endfor %}

    {% if pages.last_page %}<span>...</span><a href="{% url  dataset.views.compare_genes sample_1.pk sample_2.pk pages.last_page %}">{{ pages.last_page }}</a>{% endif %}

    {% if pages.paginator.has_next %}<strong><a href="{% url  dataset.views.compare_genes sample_1.pk sample_2.pk pages.paginator.next_page_number %}">Next</a></strong> 
    {% else %}<span><strong>Next</strong></span>{% endif %}
    </p>
    <h4>Page {{ pages.current_page }} of {% if pages.last_page %}{{ pages.last_page }}{% else %}{{ pages.current_page }}{% endif %}</h4>
</div>

{% endblock %}


